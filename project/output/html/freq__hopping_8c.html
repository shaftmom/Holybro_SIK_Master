<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: C:/project/Firmware/radio/freq_hopping.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project<span id="projectnumber">&#160;0.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('freq__hopping_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">freq_hopping.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdarg.h&gt;</code><br />
<code>#include &quot;<a class="el" href="radio_8h_source.html">radio.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="freq__hopping_8h_source.html">freq_hopping.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="crc_8h_source.html">crc.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for freq_hopping.c:</div>
<div class="dyncontent">
<div class="center"><img src="freq__hopping_8c__incl.png" border="0" usemap="#a_c_1_2project_2_firmware_2radio_2freq__hopping_8c" alt=""/></div>
<map name="a_c_1_2project_2_firmware_2radio_2freq__hopping_8c" id="a_c_1_2project_2_firmware_2radio_2freq__hopping_8c">
<area shape="rect" title=" " alt="" coords="481,5,623,47"/>
<area shape="rect" title=" " alt="" coords="5,169,75,196"/>
<area shape="rect" href="radio_8h.html" title=" " alt="" coords="468,95,529,121"/>
<area shape="rect" href="freq__hopping_8h.html" title=" " alt="" coords="553,95,660,121"/>
<area shape="rect" href="crc_8h.html" title=" " alt="" coords="684,95,735,121"/>
<area shape="rect" title=" " alt="" coords="1134,169,1199,196"/>
<area shape="rect" title=" " alt="" coords="255,244,321,271"/>
<area shape="rect" title=" " alt="" coords="187,169,251,196"/>
<area shape="rect" title=" " alt="" coords="611,244,685,271"/>
<area shape="rect" title=" " alt="" coords="326,169,391,196"/>
<area shape="rect" href="board_8h.html" title=" " alt="" coords="415,169,481,196"/>
<area shape="rect" href="serial_8h.html" title=" " alt="" coords="99,169,163,196"/>
<area shape="rect" href="board__info_8h.html" title=" " alt="" coords="618,169,710,196"/>
<area shape="rect" href="pins__user_8h.html" title=" " alt="" coords="505,169,594,196"/>
<area shape="rect" href="parameters_8h.html" title=" " alt="" coords="785,169,884,196"/>
<area shape="rect" href="at_8h.html" title=" " alt="" coords="909,169,953,196"/>
<area shape="rect" href="radio_2flash_8h.html" title=" " alt="" coords="977,169,1037,196"/>
<area shape="rect" href="rtc_8h.html" title=" " alt="" coords="1061,169,1109,196"/>
</map>
</div>
</div>
<p><a href="freq__hopping_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a690108e210ace6e819fecf9e3a99e23c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="freq__hopping_8c.html#a690108e210ace6e819fecf9e3a99e23c">r_rand</a> (void)</td></tr>
<tr class="memdesc:a690108e210ace6e819fecf9e3a99e23c"><td class="mdescLeft">&#160;</td><td class="mdescRight">replacement for srand() and rand()  <a href="freq__hopping_8c.html#a690108e210ace6e819fecf9e3a99e23c">More...</a><br /></td></tr>
<tr class="separator:a690108e210ace6e819fecf9e3a99e23c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab393cd7105f8524a081c1841e27bc851"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="freq__hopping_8c.html#ab393cd7105f8524a081c1841e27bc851">r_srand</a> (unsigned int seed)</td></tr>
<tr class="separator:ab393cd7105f8524a081c1841e27bc851"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcd42b03ac5c9dadf199080987eb7243"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="freq__hopping_8c.html#afcd42b03ac5c9dadf199080987eb7243">shuffle</a> (__xdata uint8_t *array, uint8_t n)</td></tr>
<tr class="separator:afcd42b03ac5c9dadf199080987eb7243"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7b56430585e90fe2e2acefd5dee4b8e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="freq__hopping_8c.html#ac7b56430585e90fe2e2acefd5dee4b8e">shuffleRand</a> (void)</td></tr>
<tr class="separator:ac7b56430585e90fe2e2acefd5dee4b8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7ceecfac9a0247e6bbe52338de5cd38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="freq__hopping_8c.html#ad7ceecfac9a0247e6bbe52338de5cd38">fhop_init</a> (void)</td></tr>
<tr class="separator:ad7ceecfac9a0247e6bbe52338de5cd38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63e179c044338513553ba1f00131b9af"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="freq__hopping_8c.html#a63e179c044338513553ba1f00131b9af">fhop_transmit_channel</a> (void)</td></tr>
<tr class="separator:a63e179c044338513553ba1f00131b9af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c6545dab0cbb126cef7d7245b516674"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="freq__hopping_8c.html#a1c6545dab0cbb126cef7d7245b516674">fhop_receive_channel</a> (void)</td></tr>
<tr class="separator:a1c6545dab0cbb126cef7d7245b516674"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ee1f9bd13671fd528c4c3957aa5c074"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="freq__hopping_8c.html#a4ee1f9bd13671fd528c4c3957aa5c074">fhop_window_change</a> (void)</td></tr>
<tr class="separator:a4ee1f9bd13671fd528c4c3957aa5c074"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae84a498e8a4eb437e17ec253a225087d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="freq__hopping_8c.html#ae84a498e8a4eb437e17ec253a225087d">fhop_set_locked</a> (bool locked)</td></tr>
<tr class="separator:ae84a498e8a4eb437e17ec253a225087d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a27dcd4fe3454d82e866d14f486f90ac2"><td class="memItemLeft" align="right" valign="top">__pdata uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="freq__hopping_8c.html#a27dcd4fe3454d82e866d14f486f90ac2">num_fh_channels</a></td></tr>
<tr class="memdesc:a27dcd4fe3454d82e866d14f486f90ac2"><td class="mdescLeft">&#160;</td><td class="mdescRight">how many channels are we hopping over  <a href="freq__hopping_8c.html#a27dcd4fe3454d82e866d14f486f90ac2">More...</a><br /></td></tr>
<tr class="separator:a27dcd4fe3454d82e866d14f486f90ac2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1edc9271493fc486684dde5b8bfb031f"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="freq__hopping_8c.html#a1edc9271493fc486684dde5b8bfb031f">have_radio_lock</a></td></tr>
<tr class="memdesc:a1edc9271493fc486684dde5b8bfb031f"><td class="mdescLeft">&#160;</td><td class="mdescRight">whether we current have good lock with the other end  <a href="freq__hopping_8c.html#a1edc9271493fc486684dde5b8bfb031f">More...</a><br /></td></tr>
<tr class="separator:a1edc9271493fc486684dde5b8bfb031f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a725ed616e8a8d34da4bfa44ff4d81d8e"><td class="memItemLeft" align="right" valign="top">static __pdata volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="freq__hopping_8c.html#a725ed616e8a8d34da4bfa44ff4d81d8e">transmit_channel</a></td></tr>
<tr class="separator:a725ed616e8a8d34da4bfa44ff4d81d8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab04c73ae9478c134c96aa8e0ce9be6bc"><td class="memItemLeft" align="right" valign="top">static __pdata volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="freq__hopping_8c.html#ab04c73ae9478c134c96aa8e0ce9be6bc">receive_channel</a></td></tr>
<tr class="separator:ab04c73ae9478c134c96aa8e0ce9be6bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7ccd0426cd1595626596bc5a8833241"><td class="memItemLeft" align="right" valign="top">static __xdata uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="freq__hopping_8c.html#ae7ccd0426cd1595626596bc5a8833241">channel_map</a> [<a class="el" href="freq__hopping_8h.html#adc21ca853f30a33c370602c1e78d1a1f">MAX_FREQ_CHANNELS</a>]</td></tr>
<tr class="memdesc:ae7ccd0426cd1595626596bc5a8833241"><td class="mdescLeft">&#160;</td><td class="mdescRight">map between hopping channel numbers and physical channel numbers  <a href="freq__hopping_8c.html#ae7ccd0426cd1595626596bc5a8833241">More...</a><br /></td></tr>
<tr class="separator:ae7ccd0426cd1595626596bc5a8833241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed82541e0cd8488eede29dec1003b69d"><td class="memItemLeft" align="right" valign="top">static unsigned long int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="freq__hopping_8c.html#aed82541e0cd8488eede29dec1003b69d">r_next</a></td></tr>
<tr class="separator:aed82541e0cd8488eede29dec1003b69d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Frequency hop managerment </p>

<p class="definition">Definition in file <a class="el" href="freq__hopping_8c_source.html">freq_hopping.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ad7ceecfac9a0247e6bbe52338de5cd38" name="ad7ceecfac9a0247e6bbe52338de5cd38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7ceecfac9a0247e6bbe52338de5cd38">&#9670;&nbsp;</a></span>fhop_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fhop_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >initialise frequency hopping logic </p>

<p class="definition">Definition at line <a class="el" href="freq__hopping_8c_source.html#l00108">108</a> of file <a class="el" href="freq__hopping_8c_source.html">freq_hopping.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  109</span>{</div>
<div class="line"><span class="lineno">  110</span>    uint8_t i;</div>
<div class="line"><span class="lineno">  111</span>    <span class="comment">// create a random mapping between virtual and physical channel</span></div>
<div class="line"><span class="lineno">  112</span>    <span class="comment">// numbers, seeded by the network ID</span></div>
<div class="line"><span class="lineno">  113</span>    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code hl_variable" href="freq__hopping_8c.html#a27dcd4fe3454d82e866d14f486f90ac2">num_fh_channels</a>; i++) {</div>
<div class="line"><span class="lineno">  114</span>        <a class="code hl_variable" href="freq__hopping_8c.html#ae7ccd0426cd1595626596bc5a8833241">channel_map</a>[i] = i;</div>
<div class="line"><span class="lineno">  115</span>    }</div>
<div class="line"><span class="lineno">  116</span>    <a class="code hl_function" href="freq__hopping_8c.html#ac7b56430585e90fe2e2acefd5dee4b8e">shuffleRand</a>();</div>
<div class="line"><span class="lineno">  117</span>    <a class="code hl_function" href="freq__hopping_8c.html#afcd42b03ac5c9dadf199080987eb7243">shuffle</a>(<a class="code hl_variable" href="freq__hopping_8c.html#ae7ccd0426cd1595626596bc5a8833241">channel_map</a>, <a class="code hl_variable" href="freq__hopping_8c.html#a27dcd4fe3454d82e866d14f486f90ac2">num_fh_channels</a>);</div>
<div class="line"><span class="lineno">  118</span>}</div>
<div class="ttc" id="afreq__hopping_8c_html_a27dcd4fe3454d82e866d14f486f90ac2"><div class="ttname"><a href="freq__hopping_8c.html#a27dcd4fe3454d82e866d14f486f90ac2">num_fh_channels</a></div><div class="ttdeci">__pdata uint8_t num_fh_channels</div><div class="ttdoc">how many channels are we hopping over</div><div class="ttdef"><b>Definition:</b> <a href="freq__hopping_8c_source.html#l00041">freq_hopping.c:41</a></div></div>
<div class="ttc" id="afreq__hopping_8c_html_ac7b56430585e90fe2e2acefd5dee4b8e"><div class="ttname"><a href="freq__hopping_8c.html#ac7b56430585e90fe2e2acefd5dee4b8e">shuffleRand</a></div><div class="ttdeci">void shuffleRand(void)</div><div class="ttdef"><b>Definition:</b> <a href="freq__hopping_8c_source.html#l00096">freq_hopping.c:96</a></div></div>
<div class="ttc" id="afreq__hopping_8c_html_ae7ccd0426cd1595626596bc5a8833241"><div class="ttname"><a href="freq__hopping_8c.html#ae7ccd0426cd1595626596bc5a8833241">channel_map</a></div><div class="ttdeci">static __xdata uint8_t channel_map[MAX_FREQ_CHANNELS]</div><div class="ttdoc">map between hopping channel numbers and physical channel numbers</div><div class="ttdef"><b>Definition:</b> <a href="freq__hopping_8c_source.html#l00059">freq_hopping.c:59</a></div></div>
<div class="ttc" id="afreq__hopping_8c_html_afcd42b03ac5c9dadf199080987eb7243"><div class="ttname"><a href="freq__hopping_8c.html#afcd42b03ac5c9dadf199080987eb7243">shuffle</a></div><div class="ttdeci">static void shuffle(__xdata uint8_t *array, uint8_t n)</div><div class="ttdef"><b>Definition:</b> <a href="freq__hopping_8c_source.html#l00084">freq_hopping.c:84</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="freq__hopping_8c_ad7ceecfac9a0247e6bbe52338de5cd38_cgraph.png" border="0" usemap="#afreq__hopping_8c_ad7ceecfac9a0247e6bbe52338de5cd38_cgraph" alt=""/></div>
<map name="afreq__hopping_8c_ad7ceecfac9a0247e6bbe52338de5cd38_cgraph" id="afreq__hopping_8c_ad7ceecfac9a0247e6bbe52338de5cd38_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,76,83"/>
<area shape="rect" href="freq__hopping_8c.html#afcd42b03ac5c9dadf199080987eb7243" title=" " alt="" coords="139,19,198,45"/>
<area shape="rect" href="freq__hopping_8c.html#ac7b56430585e90fe2e2acefd5dee4b8e" title=" " alt="" coords="124,81,213,108"/>
<area shape="rect" href="freq__hopping_8c.html#a690108e210ace6e819fecf9e3a99e23c" title="replacement for srand() and rand()" alt="" coords="273,5,332,32"/>
<area shape="rect" href="crc_8c.html#a2ce6fa6b8d7633c46c8cea8599c798cb" title=" " alt="" coords="275,56,330,83"/>
<area shape="rect" href="parameters_8c.html#a02fd421969b941fa855ecd8aa3453409" title=" " alt="" coords="261,107,344,133"/>
<area shape="rect" href="freq__hopping_8c.html#ab393cd7105f8524a081c1841e27bc851" title=" " alt="" coords="270,157,335,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="freq__hopping_8c_ad7ceecfac9a0247e6bbe52338de5cd38_icgraph.png" border="0" usemap="#afreq__hopping_8c_ad7ceecfac9a0247e6bbe52338de5cd38_icgraph" alt=""/></div>
<map name="afreq__hopping_8c_ad7ceecfac9a0247e6bbe52338de5cd38_icgraph" id="afreq__hopping_8c_ad7ceecfac9a0247e6bbe52338de5cd38_icgraph">
<area shape="rect" title=" " alt="" coords="128,5,199,32"/>
<area shape="rect" href="main_8c.html#ab931adfffb3eb7bfdab6c86cf5f4971a" title=" " alt="" coords="5,5,80,32"/>
</map>
</div>

</div>
</div>
<a id="a1c6545dab0cbb126cef7d7245b516674" name="a1c6545dab0cbb126cef7d7245b516674"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c6545dab0cbb126cef7d7245b516674">&#9670;&nbsp;</a></span>fhop_receive_channel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t fhop_receive_channel </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >tell the TDM code what channel to receive on</p>
<dl class="section return"><dt>Returns</dt><dd>The channel that we should be receiving on. </dd></dl>

<p class="definition">Definition at line <a class="el" href="freq__hopping_8c_source.html#l00129">129</a> of file <a class="el" href="freq__hopping_8c_source.html">freq_hopping.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  130</span>{</div>
<div class="line"><span class="lineno">  131</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="freq__hopping_8c.html#ae7ccd0426cd1595626596bc5a8833241">channel_map</a>[<a class="code hl_variable" href="freq__hopping_8c.html#ab04c73ae9478c134c96aa8e0ce9be6bc">receive_channel</a>];</div>
<div class="line"><span class="lineno">  132</span>}</div>
<div class="ttc" id="afreq__hopping_8c_html_ab04c73ae9478c134c96aa8e0ce9be6bc"><div class="ttname"><a href="freq__hopping_8c.html#ab04c73ae9478c134c96aa8e0ce9be6bc">receive_channel</a></div><div class="ttdeci">static __pdata volatile uint8_t receive_channel</div><div class="ttdef"><b>Definition:</b> <a href="freq__hopping_8c_source.html#l00056">freq_hopping.c:56</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="freq__hopping_8c_a1c6545dab0cbb126cef7d7245b516674_icgraph.png" border="0" usemap="#afreq__hopping_8c_a1c6545dab0cbb126cef7d7245b516674_icgraph" alt=""/></div>
<map name="afreq__hopping_8c_a1c6545dab0cbb126cef7d7245b516674_icgraph" id="afreq__hopping_8c_a1c6545dab0cbb126cef7d7245b516674_icgraph">
<area shape="rect" title=" " alt="" coords="100,5,245,32"/>
<area shape="rect" href="tdm_8c.html#ad455a2a1cb342bd8b5fc764d2fa8d852" title=" " alt="" coords="5,5,52,32"/>
</map>
</div>

</div>
</div>
<a id="ae84a498e8a4eb437e17ec253a225087d" name="ae84a498e8a4eb437e17ec253a225087d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae84a498e8a4eb437e17ec253a225087d">&#9670;&nbsp;</a></span>fhop_set_locked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fhop_set_locked </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>locked</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >called when we get or lose radio lock</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">locked</td><td>True if we have gained lock, false if we have lost it. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="freq__hopping_8c_source.html#l00153">153</a> of file <a class="el" href="freq__hopping_8c_source.html">freq_hopping.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  154</span>{</div>
<div class="line"><span class="lineno">  155</span><span class="preprocessor">#if DEBUG</span></div>
<div class="line"><span class="lineno">  156</span>    <span class="keywordflow">if</span> (locked &amp;&amp; !<a class="code hl_variable" href="freq__hopping_8c.html#a1edc9271493fc486684dde5b8bfb031f">have_radio_lock</a>) {</div>
<div class="line"><span class="lineno">  157</span>        <a class="code hl_define" href="radio_8h.html#a6342d87e4f91ba01444a8783f2fbc08c">debug</a>(<span class="stringliteral">&quot;FH lock\n&quot;</span>);</div>
<div class="line"><span class="lineno">  158</span>    }</div>
<div class="line"><span class="lineno">  159</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  160</span>    <a class="code hl_variable" href="freq__hopping_8c.html#a1edc9271493fc486684dde5b8bfb031f">have_radio_lock</a> = locked;</div>
<div class="line"><span class="lineno">  161</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="freq__hopping_8c.html#a1edc9271493fc486684dde5b8bfb031f">have_radio_lock</a>) {</div>
<div class="line"><span class="lineno">  162</span>        <span class="comment">// we have just received a packet, so we know the</span></div>
<div class="line"><span class="lineno">  163</span>        <span class="comment">// other radios transmit channel must be our receive</span></div>
<div class="line"><span class="lineno">  164</span>        <span class="comment">// channel</span></div>
<div class="line"><span class="lineno">  165</span>        <a class="code hl_variable" href="freq__hopping_8c.html#a725ed616e8a8d34da4bfa44ff4d81d8e">transmit_channel</a> = <a class="code hl_variable" href="freq__hopping_8c.html#ab04c73ae9478c134c96aa8e0ce9be6bc">receive_channel</a>;</div>
<div class="line"><span class="lineno">  166</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  167</span>        <span class="comment">// try the next receive channel</span></div>
<div class="line"><span class="lineno">  168</span>        <a class="code hl_variable" href="freq__hopping_8c.html#ab04c73ae9478c134c96aa8e0ce9be6bc">receive_channel</a> = (<a class="code hl_variable" href="freq__hopping_8c.html#ab04c73ae9478c134c96aa8e0ce9be6bc">receive_channel</a>+1) % <a class="code hl_variable" href="freq__hopping_8c.html#a27dcd4fe3454d82e866d14f486f90ac2">num_fh_channels</a>;</div>
<div class="line"><span class="lineno">  169</span>    }</div>
<div class="line"><span class="lineno">  170</span>}</div>
<div class="ttc" id="afreq__hopping_8c_html_a1edc9271493fc486684dde5b8bfb031f"><div class="ttname"><a href="freq__hopping_8c.html#a1edc9271493fc486684dde5b8bfb031f">have_radio_lock</a></div><div class="ttdeci">static bool have_radio_lock</div><div class="ttdoc">whether we current have good lock with the other end</div><div class="ttdef"><b>Definition:</b> <a href="freq__hopping_8c_source.html#l00044">freq_hopping.c:44</a></div></div>
<div class="ttc" id="afreq__hopping_8c_html_a725ed616e8a8d34da4bfa44ff4d81d8e"><div class="ttname"><a href="freq__hopping_8c.html#a725ed616e8a8d34da4bfa44ff4d81d8e">transmit_channel</a></div><div class="ttdeci">static __pdata volatile uint8_t transmit_channel</div><div class="ttdef"><b>Definition:</b> <a href="freq__hopping_8c_source.html#l00049">freq_hopping.c:49</a></div></div>
<div class="ttc" id="aradio_8h_html_a6342d87e4f91ba01444a8783f2fbc08c"><div class="ttname"><a href="radio_8h.html#a6342d87e4f91ba01444a8783f2fbc08c">debug</a></div><div class="ttdeci">#define debug(fmt, args...)</div><div class="ttdef"><b>Definition:</b> <a href="radio_8h_source.html#l00088">radio.h:88</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="freq__hopping_8c_ae84a498e8a4eb437e17ec253a225087d_icgraph.png" border="0" usemap="#afreq__hopping_8c_ae84a498e8a4eb437e17ec253a225087d_icgraph" alt=""/></div>
<map name="afreq__hopping_8c_ae84a498e8a4eb437e17ec253a225087d_icgraph" id="afreq__hopping_8c_ae84a498e8a4eb437e17ec253a225087d_icgraph">
<area shape="rect" title=" " alt="" coords="236,5,352,32"/>
<area shape="rect" href="tdm_8c.html#ad455a2a1cb342bd8b5fc764d2fa8d852" title=" " alt="" coords="5,5,52,32"/>
<area shape="rect" href="tdm_8c.html#ac29b1ec8eab994264794481981c9d269" title=" " alt="" coords="100,31,188,57"/>
</map>
</div>

</div>
</div>
<a id="a63e179c044338513553ba1f00131b9af" name="a63e179c044338513553ba1f00131b9af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63e179c044338513553ba1f00131b9af">&#9670;&nbsp;</a></span>fhop_transmit_channel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t fhop_transmit_channel </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >tell the TDM code what channel to transmit on</p>
<dl class="section return"><dt>Returns</dt><dd>The channel that we should be transmitting on. </dd></dl>

<p class="definition">Definition at line <a class="el" href="freq__hopping_8c_source.html#l00122">122</a> of file <a class="el" href="freq__hopping_8c_source.html">freq_hopping.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  123</span>{</div>
<div class="line"><span class="lineno">  124</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="freq__hopping_8c.html#ae7ccd0426cd1595626596bc5a8833241">channel_map</a>[<a class="code hl_variable" href="freq__hopping_8c.html#a725ed616e8a8d34da4bfa44ff4d81d8e">transmit_channel</a>];</div>
<div class="line"><span class="lineno">  125</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="freq__hopping_8c_a63e179c044338513553ba1f00131b9af_icgraph.png" border="0" usemap="#afreq__hopping_8c_a63e179c044338513553ba1f00131b9af_icgraph" alt=""/></div>
<map name="afreq__hopping_8c_a63e179c044338513553ba1f00131b9af_icgraph" id="afreq__hopping_8c_a63e179c044338513553ba1f00131b9af_icgraph">
<area shape="rect" title=" " alt="" coords="100,5,252,32"/>
<area shape="rect" href="tdm_8c.html#ad455a2a1cb342bd8b5fc764d2fa8d852" title=" " alt="" coords="5,5,52,32"/>
</map>
</div>

</div>
</div>
<a id="a4ee1f9bd13671fd528c4c3957aa5c074" name="a4ee1f9bd13671fd528c4c3957aa5c074"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ee1f9bd13671fd528c4c3957aa5c074">&#9670;&nbsp;</a></span>fhop_window_change()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fhop_window_change </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >called when the transmit window flips </p>

<p class="definition">Definition at line <a class="el" href="freq__hopping_8c_source.html#l00136">136</a> of file <a class="el" href="freq__hopping_8c_source.html">freq_hopping.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  137</span>{</div>
<div class="line"><span class="lineno">  138</span>    <a class="code hl_variable" href="freq__hopping_8c.html#a725ed616e8a8d34da4bfa44ff4d81d8e">transmit_channel</a> = (<a class="code hl_variable" href="freq__hopping_8c.html#a725ed616e8a8d34da4bfa44ff4d81d8e">transmit_channel</a> + 1) % <a class="code hl_variable" href="freq__hopping_8c.html#a27dcd4fe3454d82e866d14f486f90ac2">num_fh_channels</a>;</div>
<div class="line"><span class="lineno">  139</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="freq__hopping_8c.html#a1edc9271493fc486684dde5b8bfb031f">have_radio_lock</a>) {</div>
<div class="line"><span class="lineno">  140</span>        <span class="comment">// when we have lock, the receive channel follows the</span></div>
<div class="line"><span class="lineno">  141</span>        <span class="comment">// transmit channel</span></div>
<div class="line"><span class="lineno">  142</span>        <a class="code hl_variable" href="freq__hopping_8c.html#ab04c73ae9478c134c96aa8e0ce9be6bc">receive_channel</a> = <a class="code hl_variable" href="freq__hopping_8c.html#a725ed616e8a8d34da4bfa44ff4d81d8e">transmit_channel</a>;</div>
<div class="line"><span class="lineno">  143</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="freq__hopping_8c.html#a725ed616e8a8d34da4bfa44ff4d81d8e">transmit_channel</a> == 0) {</div>
<div class="line"><span class="lineno">  144</span>        <span class="comment">// when we don&#39;t have lock, the receive channel only</span></div>
<div class="line"><span class="lineno">  145</span>        <span class="comment">// changes when the transmit channel wraps</span></div>
<div class="line"><span class="lineno">  146</span>        <a class="code hl_variable" href="freq__hopping_8c.html#ab04c73ae9478c134c96aa8e0ce9be6bc">receive_channel</a> = (<a class="code hl_variable" href="freq__hopping_8c.html#ab04c73ae9478c134c96aa8e0ce9be6bc">receive_channel</a> + 1) % <a class="code hl_variable" href="freq__hopping_8c.html#a27dcd4fe3454d82e866d14f486f90ac2">num_fh_channels</a>;</div>
<div class="line"><span class="lineno">  147</span>        <a class="code hl_define" href="radio_8h.html#a6342d87e4f91ba01444a8783f2fbc08c">debug</a>(<span class="stringliteral">&quot;Trying RCV on channel %d\n&quot;</span>, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="freq__hopping_8c.html#ab04c73ae9478c134c96aa8e0ce9be6bc">receive_channel</a>);</div>
<div class="line"><span class="lineno">  148</span>    }</div>
<div class="line"><span class="lineno">  149</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="freq__hopping_8c_a4ee1f9bd13671fd528c4c3957aa5c074_icgraph.png" border="0" usemap="#afreq__hopping_8c_a4ee1f9bd13671fd528c4c3957aa5c074_icgraph" alt=""/></div>
<map name="afreq__hopping_8c_a4ee1f9bd13671fd528c4c3957aa5c074_icgraph" id="afreq__hopping_8c_a4ee1f9bd13671fd528c4c3957aa5c074_icgraph">
<area shape="rect" title=" " alt="" coords="275,5,419,32"/>
<area shape="rect" href="tdm_8c.html#a9b03e4de3d439ee4fae4334481621136" title=" " alt="" coords="100,5,227,32"/>
<area shape="rect" href="tdm_8c.html#ad455a2a1cb342bd8b5fc764d2fa8d852" title=" " alt="" coords="5,5,52,32"/>
</map>
</div>

</div>
</div>
<a id="a690108e210ace6e819fecf9e3a99e23c" name="a690108e210ace6e819fecf9e3a99e23c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a690108e210ace6e819fecf9e3a99e23c">&#9670;&nbsp;</a></span>r_rand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int r_rand </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>replacement for srand() and rand() </p>

<p class="definition">Definition at line <a class="el" href="freq__hopping_8c_source.html#l00068">68</a> of file <a class="el" href="freq__hopping_8c_source.html">freq_hopping.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   69</span>{</div>
<div class="line"><span class="lineno">   70</span>    <a class="code hl_variable" href="freq__hopping_8c.html#aed82541e0cd8488eede29dec1003b69d">r_next</a> = <a class="code hl_variable" href="freq__hopping_8c.html#aed82541e0cd8488eede29dec1003b69d">r_next</a> * 1103515245UL + 12345;</div>
<div class="line"><span class="lineno">   71</span>    <span class="keywordflow">return</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)(<a class="code hl_variable" href="freq__hopping_8c.html#aed82541e0cd8488eede29dec1003b69d">r_next</a>/65536) % (RAND_MAX + 1U);</div>
<div class="line"><span class="lineno">   72</span>}</div>
<div class="ttc" id="afreq__hopping_8c_html_aed82541e0cd8488eede29dec1003b69d"><div class="ttname"><a href="freq__hopping_8c.html#aed82541e0cd8488eede29dec1003b69d">r_next</a></div><div class="ttdeci">static unsigned long int r_next</div><div class="ttdef"><b>Definition:</b> <a href="freq__hopping_8c_source.html#l00065">freq_hopping.c:65</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="freq__hopping_8c_a690108e210ace6e819fecf9e3a99e23c_icgraph.png" border="0" usemap="#afreq__hopping_8c_a690108e210ace6e819fecf9e3a99e23c_icgraph" alt=""/></div>
<map name="afreq__hopping_8c_a690108e210ace6e819fecf9e3a99e23c_icgraph" id="afreq__hopping_8c_a690108e210ace6e819fecf9e3a99e23c_icgraph">
<area shape="rect" title="replacement for srand() and rand()" alt="" coords="353,56,412,83"/>
<area shape="rect" href="tdm_8c.html#ad455a2a1cb342bd8b5fc764d2fa8d852" title=" " alt="" coords="253,5,299,32"/>
<area shape="rect" href="main_8c.html#ab931adfffb3eb7bfdab6c86cf5f4971a" title=" " alt="" coords="5,81,80,108"/>
<area shape="rect" href="freq__hopping_8c.html#afcd42b03ac5c9dadf199080987eb7243" title=" " alt="" coords="247,107,305,133"/>
<area shape="rect" href="freq__hopping_8c.html#ad7ceecfac9a0247e6bbe52338de5cd38" title=" " alt="" coords="128,107,199,133"/>
</map>
</div>

</div>
</div>
<a id="ab393cd7105f8524a081c1841e27bc851" name="ab393cd7105f8524a081c1841e27bc851"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab393cd7105f8524a081c1841e27bc851">&#9670;&nbsp;</a></span>r_srand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void r_srand </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>seed</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="freq__hopping_8c_source.html#l00075">75</a> of file <a class="el" href="freq__hopping_8c_source.html">freq_hopping.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   76</span>{</div>
<div class="line"><span class="lineno">   77</span>    <a class="code hl_variable" href="freq__hopping_8c.html#aed82541e0cd8488eede29dec1003b69d">r_next</a> = seed;</div>
<div class="line"><span class="lineno">   78</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="freq__hopping_8c_ab393cd7105f8524a081c1841e27bc851_icgraph.png" border="0" usemap="#afreq__hopping_8c_ab393cd7105f8524a081c1841e27bc851_icgraph" alt=""/></div>
<map name="afreq__hopping_8c_ab393cd7105f8524a081c1841e27bc851_icgraph" id="afreq__hopping_8c_ab393cd7105f8524a081c1841e27bc851_icgraph">
<area shape="rect" title=" " alt="" coords="384,5,449,32"/>
<area shape="rect" href="main_8c.html#ab931adfffb3eb7bfdab6c86cf5f4971a" title=" " alt="" coords="5,5,80,32"/>
<area shape="rect" href="freq__hopping_8c.html#ac7b56430585e90fe2e2acefd5dee4b8e" title=" " alt="" coords="247,31,336,57"/>
<area shape="rect" href="freq__hopping_8c.html#ad7ceecfac9a0247e6bbe52338de5cd38" title=" " alt="" coords="128,31,199,57"/>
</map>
</div>

</div>
</div>
<a id="afcd42b03ac5c9dadf199080987eb7243" name="afcd42b03ac5c9dadf199080987eb7243"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcd42b03ac5c9dadf199080987eb7243">&#9670;&nbsp;</a></span>shuffle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void shuffle </td>
          <td>(</td>
          <td class="paramtype">__xdata uint8_t *&#160;</td>
          <td class="paramname"><em>array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="freq__hopping_8c_source.html#l00084">84</a> of file <a class="el" href="freq__hopping_8c_source.html">freq_hopping.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   85</span>{</div>
<div class="line"><span class="lineno">   86</span>    uint8_t i;</div>
<div class="line"><span class="lineno">   87</span>    <span class="keywordflow">for</span> (i = 0; i &lt; n - 1; i++) {</div>
<div class="line"><span class="lineno">   88</span>                uint8_t j = ((uint8_t)<a class="code hl_function" href="freq__hopping_8c.html#a690108e210ace6e819fecf9e3a99e23c">r_rand</a>()) % n;</div>
<div class="line"><span class="lineno">   89</span>        uint8_t t = array[j];</div>
<div class="line"><span class="lineno">   90</span>        array[j] = array[i];</div>
<div class="line"><span class="lineno">   91</span>        array[i] = t;</div>
<div class="line"><span class="lineno">   92</span>    }</div>
<div class="line"><span class="lineno">   93</span>}</div>
<div class="ttc" id="afreq__hopping_8c_html_a690108e210ace6e819fecf9e3a99e23c"><div class="ttname"><a href="freq__hopping_8c.html#a690108e210ace6e819fecf9e3a99e23c">r_rand</a></div><div class="ttdeci">int r_rand(void)</div><div class="ttdoc">replacement for srand() and rand()</div><div class="ttdef"><b>Definition:</b> <a href="freq__hopping_8c_source.html#l00068">freq_hopping.c:68</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="freq__hopping_8c_afcd42b03ac5c9dadf199080987eb7243_cgraph.png" border="0" usemap="#afreq__hopping_8c_afcd42b03ac5c9dadf199080987eb7243_cgraph" alt=""/></div>
<map name="afreq__hopping_8c_afcd42b03ac5c9dadf199080987eb7243_cgraph" id="afreq__hopping_8c_afcd42b03ac5c9dadf199080987eb7243_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,64,32"/>
<area shape="rect" href="freq__hopping_8c.html#a690108e210ace6e819fecf9e3a99e23c" title="replacement for srand() and rand()" alt="" coords="112,5,171,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="freq__hopping_8c_afcd42b03ac5c9dadf199080987eb7243_icgraph.png" border="0" usemap="#afreq__hopping_8c_afcd42b03ac5c9dadf199080987eb7243_icgraph" alt=""/></div>
<map name="afreq__hopping_8c_afcd42b03ac5c9dadf199080987eb7243_icgraph" id="afreq__hopping_8c_afcd42b03ac5c9dadf199080987eb7243_icgraph">
<area shape="rect" title=" " alt="" coords="247,5,305,32"/>
<area shape="rect" href="freq__hopping_8c.html#ad7ceecfac9a0247e6bbe52338de5cd38" title=" " alt="" coords="128,5,199,32"/>
<area shape="rect" href="main_8c.html#ab931adfffb3eb7bfdab6c86cf5f4971a" title=" " alt="" coords="5,5,80,32"/>
</map>
</div>

</div>
</div>
<a id="ac7b56430585e90fe2e2acefd5dee4b8e" name="ac7b56430585e90fe2e2acefd5dee4b8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7b56430585e90fe2e2acefd5dee4b8e">&#9670;&nbsp;</a></span>shuffleRand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void shuffleRand </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Randomly shuffle fixed variables for entoropy </p>

<p class="definition">Definition at line <a class="el" href="freq__hopping_8c_source.html#l00096">96</a> of file <a class="el" href="freq__hopping_8c_source.html">freq_hopping.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   97</span>{</div>
<div class="line"><span class="lineno">   98</span>  <a class="code hl_function" href="freq__hopping_8c.html#ab393cd7105f8524a081c1841e27bc851">r_srand</a>(<a class="code hl_function" href="parameters_8c.html#a02fd421969b941fa855ecd8aa3453409">param_get</a>(<a class="code hl_enumvalue" href="parameters_8h.html#a67519f14166aa2d22c4d2b2235976feba5bcc425a99decea0200a64db1812fb71">PARAM_NETID</a>));</div>
<div class="line"><span class="lineno">   99</span><span class="preprocessor">#ifdef INCLUDE_AES</span></div>
<div class="line"><span class="lineno">  100</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="parameters_8c.html#a02fd421969b941fa855ecd8aa3453409">param_get</a>(PARAM_ENCRYPTION)) {</div>
<div class="line"><span class="lineno">  101</span>    <a class="code hl_function" href="freq__hopping_8c.html#ab393cd7105f8524a081c1841e27bc851">r_srand</a>(<a class="code hl_function" href="crc_8c.html#a2ce6fa6b8d7633c46c8cea8599c798cb">crc16</a>(32, param_get_encryption_key()));</div>
<div class="line"><span class="lineno">  102</span>  }</div>
<div class="line"><span class="lineno">  103</span><span class="preprocessor">#endif </span><span class="comment">// INCLUDE_AES</span></div>
<div class="line"><span class="lineno">  104</span>}</div>
<div class="ttc" id="acrc_8c_html_a2ce6fa6b8d7633c46c8cea8599c798cb"><div class="ttname"><a href="crc_8c.html#a2ce6fa6b8d7633c46c8cea8599c798cb">crc16</a></div><div class="ttdeci">uint16_t crc16(__data uint8_t n, __xdata uint8_t *__data buf)</div><div class="ttdef"><b>Definition:</b> <a href="crc_8c_source.html#l00085">crc.c:85</a></div></div>
<div class="ttc" id="afreq__hopping_8c_html_ab393cd7105f8524a081c1841e27bc851"><div class="ttname"><a href="freq__hopping_8c.html#ab393cd7105f8524a081c1841e27bc851">r_srand</a></div><div class="ttdeci">void r_srand(unsigned int seed)</div><div class="ttdef"><b>Definition:</b> <a href="freq__hopping_8c_source.html#l00075">freq_hopping.c:75</a></div></div>
<div class="ttc" id="aparameters_8c_html_a02fd421969b941fa855ecd8aa3453409"><div class="ttname"><a href="parameters_8c.html#a02fd421969b941fa855ecd8aa3453409">param_get</a></div><div class="ttdeci">param_t param_get(__data enum ParamID param)</div><div class="ttdef"><b>Definition:</b> <a href="parameters_8c_source.html#l00230">parameters.c:230</a></div></div>
<div class="ttc" id="aparameters_8h_html_a67519f14166aa2d22c4d2b2235976feba5bcc425a99decea0200a64db1812fb71"><div class="ttname"><a href="parameters_8h.html#a67519f14166aa2d22c4d2b2235976feba5bcc425a99decea0200a64db1812fb71">PARAM_NETID</a></div><div class="ttdeci">@ PARAM_NETID</div><div class="ttdef"><b>Definition:</b> <a href="parameters_8h_source.html#l00052">parameters.h:52</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="freq__hopping_8c_ac7b56430585e90fe2e2acefd5dee4b8e_cgraph.png" border="0" usemap="#afreq__hopping_8c_ac7b56430585e90fe2e2acefd5dee4b8e_cgraph" alt=""/></div>
<map name="afreq__hopping_8c_ac7b56430585e90fe2e2acefd5dee4b8e_cgraph" id="afreq__hopping_8c_ac7b56430585e90fe2e2acefd5dee4b8e_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,95,83"/>
<area shape="rect" href="crc_8c.html#a2ce6fa6b8d7633c46c8cea8599c798cb" title=" " alt="" coords="157,5,211,32"/>
<area shape="rect" href="parameters_8c.html#a02fd421969b941fa855ecd8aa3453409" title=" " alt="" coords="143,56,225,83"/>
<area shape="rect" href="freq__hopping_8c.html#ab393cd7105f8524a081c1841e27bc851" title=" " alt="" coords="151,107,217,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="freq__hopping_8c_ac7b56430585e90fe2e2acefd5dee4b8e_icgraph.png" border="0" usemap="#afreq__hopping_8c_ac7b56430585e90fe2e2acefd5dee4b8e_icgraph" alt=""/></div>
<map name="afreq__hopping_8c_ac7b56430585e90fe2e2acefd5dee4b8e_icgraph" id="afreq__hopping_8c_ac7b56430585e90fe2e2acefd5dee4b8e_icgraph">
<area shape="rect" title=" " alt="" coords="247,5,336,32"/>
<area shape="rect" href="freq__hopping_8c.html#ad7ceecfac9a0247e6bbe52338de5cd38" title=" " alt="" coords="128,5,199,32"/>
<area shape="rect" href="main_8c.html#ab931adfffb3eb7bfdab6c86cf5f4971a" title=" " alt="" coords="5,5,80,32"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ae7ccd0426cd1595626596bc5a8833241" name="ae7ccd0426cd1595626596bc5a8833241"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7ccd0426cd1595626596bc5a8833241">&#9670;&nbsp;</a></span>channel_map</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">__xdata uint8_t channel_map[<a class="el" href="freq__hopping_8h.html#adc21ca853f30a33c370602c1e78d1a1f">MAX_FREQ_CHANNELS</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>map between hopping channel numbers and physical channel numbers </p>

<p class="definition">Definition at line <a class="el" href="freq__hopping_8c_source.html#l00059">59</a> of file <a class="el" href="freq__hopping_8c_source.html">freq_hopping.c</a>.</p>

</div>
</div>
<a id="a1edc9271493fc486684dde5b8bfb031f" name="a1edc9271493fc486684dde5b8bfb031f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1edc9271493fc486684dde5b8bfb031f">&#9670;&nbsp;</a></span>have_radio_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool have_radio_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>whether we current have good lock with the other end </p>

<p class="definition">Definition at line <a class="el" href="freq__hopping_8c_source.html#l00044">44</a> of file <a class="el" href="freq__hopping_8c_source.html">freq_hopping.c</a>.</p>

</div>
</div>
<a id="a27dcd4fe3454d82e866d14f486f90ac2" name="a27dcd4fe3454d82e866d14f486f90ac2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27dcd4fe3454d82e866d14f486f90ac2">&#9670;&nbsp;</a></span>num_fh_channels</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__pdata uint8_t num_fh_channels</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>how many channels are we hopping over </p>

<p class="definition">Definition at line <a class="el" href="freq__hopping_8c_source.html#l00041">41</a> of file <a class="el" href="freq__hopping_8c_source.html">freq_hopping.c</a>.</p>

</div>
</div>
<a id="aed82541e0cd8488eede29dec1003b69d" name="aed82541e0cd8488eede29dec1003b69d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed82541e0cd8488eede29dec1003b69d">&#9670;&nbsp;</a></span>r_next</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long int r_next</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="freq__hopping_8c_source.html#l00065">65</a> of file <a class="el" href="freq__hopping_8c_source.html">freq_hopping.c</a>.</p>

</div>
</div>
<a id="ab04c73ae9478c134c96aa8e0ce9be6bc" name="ab04c73ae9478c134c96aa8e0ce9be6bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab04c73ae9478c134c96aa8e0ce9be6bc">&#9670;&nbsp;</a></span>receive_channel</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">__pdata volatile uint8_t receive_channel</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >current receive channel When we have good lock with the other radio the receive channel follows the transmit channel. When we don't have lock the receive channel only changes very slowly - it moves only when the transmit channel wraps </p>

<p class="definition">Definition at line <a class="el" href="freq__hopping_8c_source.html#l00056">56</a> of file <a class="el" href="freq__hopping_8c_source.html">freq_hopping.c</a>.</p>

</div>
</div>
<a id="a725ed616e8a8d34da4bfa44ff4d81d8e" name="a725ed616e8a8d34da4bfa44ff4d81d8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a725ed616e8a8d34da4bfa44ff4d81d8e">&#9670;&nbsp;</a></span>transmit_channel</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">__pdata volatile uint8_t transmit_channel</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >current transmit channel This changes every time the TDM transmit window opens or closes, regardless of our lock state </p>

<p class="definition">Definition at line <a class="el" href="freq__hopping_8c_source.html#l00049">49</a> of file <a class="el" href="freq__hopping_8c_source.html">freq_hopping.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_167790342fb55959539d550b874be046.html">project</a></li><li class="navelem"><a class="el" href="dir_1f2ad38bfb88044c84a19a4ab80ce531.html">Firmware</a></li><li class="navelem"><a class="el" href="dir_412cb633748d7ebdc68292eb7d392d68.html">radio</a></li><li class="navelem"><a class="el" href="freq__hopping_8c.html">freq_hopping.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
